nohup: ignoring input
2025-08-09 14:01:47 INFO: - Rank: -1, Saving log file to checkpoint/llama3/prediction.log ...
2025-08-09 14:01:47 INFO: - Loading data from /home/jiangjp/trace-idea/data/hotpotqa/dev100_with_reasoning_chains_modify_idea.json ... 
loading tokenizer for "/home/jiangjp/models/Meta-Llama-3-8B-Instruct" with padding_side: "left"
Missing padding token, setting padding token to eos_token
Loading checkpoint shards:   0%|          | 0/4 [00:00<?, ?it/s]Loading checkpoint shards:  25%|██▌       | 1/4 [00:01<00:03,  1.07s/it]Loading checkpoint shards:  50%|█████     | 2/4 [00:02<00:02,  1.05s/it]Loading checkpoint shards:  75%|███████▌  | 3/4 [00:03<00:01,  1.05s/it]Loading checkpoint shards: 100%|██████████| 4/4 [00:03<00:00,  1.41it/s]Loading checkpoint shards: 100%|██████████| 4/4 [00:03<00:00,  1.20it/s]
Evaluation:   0%|          | 0/25 [00:00<?, ?it/s]2025-08-09 14:02:01 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:01 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:01 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:01 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
/home/jiangjp/miniconda3/envs/trace/lib/python3.10/site-packages/transformers/generation/configuration_utils.py:497: UserWarning: `do_sample` is set to `False`. However, `top_p` is set to `0.9` -- this flag is only used in sample-based generation modes. You should set `do_sample=True` or unset `top_p`.
  warnings.warn(
Evaluation:   4%|▍         | 1/25 [00:22<09:00, 22.54s/it]2025-08-09 14:02:23 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:23 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:24 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:24 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:   8%|▊         | 2/25 [00:47<09:05, 23.73s/it]2025-08-09 14:02:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:02:51 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  12%|█▏        | 3/25 [01:09<08:33, 23.32s/it]2025-08-09 14:03:11 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:11 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:11 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:11 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  16%|█▌        | 4/25 [01:34<08:16, 23.63s/it]2025-08-09 14:03:35 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:35 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:35 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:36 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  20%|██        | 5/25 [01:52<07:16, 21.82s/it]2025-08-09 14:03:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:03:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  24%|██▍       | 6/25 [02:20<07:30, 23.71s/it]2025-08-09 14:04:21 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:04:21 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:04:21 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:04:21 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  28%|██▊       | 7/25 [02:39<06:43, 22.44s/it]2025-08-09 14:04:41 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:04:41 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:04:41 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:04:41 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  32%|███▏      | 8/25 [03:05<06:36, 23.33s/it]2025-08-09 14:05:06 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:06 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:06 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:06 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  36%|███▌      | 9/25 [03:30<06:24, 24.02s/it]2025-08-09 14:05:31 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:31 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:32 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:32 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  40%|████      | 10/25 [03:49<05:34, 22.29s/it]2025-08-09 14:05:50 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:50 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:50 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:05:51 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  44%|████▍     | 11/25 [04:06<04:51, 20.80s/it]2025-08-09 14:06:07 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:07 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:07 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:07 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  48%|████▊     | 12/25 [04:29<04:38, 21.42s/it]2025-08-09 14:06:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  52%|█████▏    | 13/25 [04:53<04:26, 22.23s/it]2025-08-09 14:06:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:06:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  56%|█████▌    | 14/25 [05:10<03:46, 20.62s/it]2025-08-09 14:07:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  60%|██████    | 15/25 [05:28<03:19, 19.96s/it]2025-08-09 14:07:29 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  64%|██████▍   | 16/25 [05:53<03:11, 21.32s/it]2025-08-09 14:07:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:54 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:07:55 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:08:14 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:08:41 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
/home/jiangjp/trace-idea/readers/collators4.py:192: UserWarning: API调用失败超过最大重试次数，返回默认分数
  warnings.warn(f"API调用失败超过最大重试次数，返回默认分数")
Evaluation:  68%|██████▊   | 17/25 [07:09<05:02, 37.79s/it]2025-08-09 14:09:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  72%|███████▏  | 18/25 [07:29<03:47, 32.56s/it]2025-08-09 14:09:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:30 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:31 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:31 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  76%|███████▌  | 19/25 [07:47<02:47, 27.98s/it]2025-08-09 14:09:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:09:48 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  80%|████████  | 20/25 [08:12<02:15, 27.09s/it]2025-08-09 14:10:13 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:13 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:13 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:13 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  84%|████████▍ | 21/25 [08:32<01:40, 25.02s/it]2025-08-09 14:10:33 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:33 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:34 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:35 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  88%|████████▊ | 22/25 [08:50<01:09, 23.11s/it]2025-08-09 14:10:52 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:52 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:52 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:10:52 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  92%|█████████▏| 23/25 [09:11<00:44, 22.27s/it]2025-08-09 14:11:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:11:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:11:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:11:13 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:11:44 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation:  96%|█████████▌| 24/25 [10:09<00:33, 33.08s/it]2025-08-09 14:12:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:12:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:12:10 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
2025-08-09 14:12:12 INFO: - HTTP Request: POST https://open.bigmodel.cn/api/paas/v4/chat/completions "HTTP/1.1 200 OK"
Evaluation: 100%|██████████| 25/25 [10:30<00:00, 29.43s/it]Evaluation: 100%|██████████| 25/25 [10:30<00:00, 25.22s/it]
2025-08-09 14:12:31 INFO: - ====================== Evaluation Results ======================
2025-08-09 14:12:31 INFO: - n_context: 5
2025-08-09 14:12:31 INFO: - context_type: triples
2025-08-09 14:12:31 INFO: - {'exact_match': 0.59, 'f1': 0.6242698412698412, 'precision': 0.6341666666666668, 'recall': 0.6195, 'avg_num_tokens': 543.74}
2025-08-09 14:12:31 INFO: - ================================================================
Yes 	 ['no']
Boston College 	 ['University of Delaware']
None 	 ['NBC']
Flowering plants 	 ['genus']
Kirk Fogg 	 ['Jeff Sutphen']
Flowering plants 	 ['plant']
No 	 ['yes']
Both. 	 ['Ariocarpus']
Dostoyevsky 	 ['Albert Camus']
Archbishop Gilday 	 ['Paul Marcinkus']
1852 	 ['1904']
Northwestern University 	 ['Beverly Hills High School']
1989 	 ['fifth album']
Middleweight 	 ['Welterweight']
Wide receiver 	 ['quarterback']
New York Yankees 	 ['Texas Rangers']
Slavic, Hungarian, and Romanian 	 ['Germanic, Baltic and Thracian tribes']
11 	 ['Their biggest hit was "Tall Cool One", first released in 1959']
Jawaharlal Nehru 	 ['first Prime Minister of India']
Wembley Stadium 	 ['South Kesteven Sports Stadium']
Aiko 	 ['Aiko, Princess Toshi']
Naseem Hamed 	 ['Marco Antonio Barrera']
Humber Refinery 	 ['the A160']
Sehnsucht 	 ['Herzeleid']
Mohamed Elneny 	 ['Ahmed Elmohamady']
Live-action 	 ['animation']
尝试 1: 分数数量 (12) 不等于上下文数量 (6)
尝试 2: 分数数量 (12) 不等于上下文数量 (6)
尝试 3: 分数数量 (12) 不等于上下文数量 (6)
Royal Air Force 	 ['British Armed Forces']
Vydubychi Hill 	 ['Cherepanov Hill']
1966 	 ['1939']
Aquatium 	 ['Metreon']
The Country Bears 	 ['The London Connection']
Canadian 	 ['Mexican']
No 	 ['yes']
Pizza Inn 	 ['Extreme Pizza']
Angela Nissel 	 ['Angela R. Nissel']
Houston, Texas 	 ['Netherlands']
Vincent van Gogh 	 ['Theodorus "Theo" van Gogh']
尝试 1: 分数数量 (9) 不等于上下文数量 (7)
Collaborated with 	 ['Italian pianist and composer']
Trot revival icon 	 ['actress']
London 	 ['Amsterdam']
Yes 	 ['no']
